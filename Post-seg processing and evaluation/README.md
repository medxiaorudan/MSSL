## Scripts in this Subfolder

- `mask_skeleton.m`: Convert the mask generated by the segmentation task into a skeleton.
- `overlay.ipynb`: The Python code to overlay the skeleton into the original subimages.
- `overlay.m`: The Matlab code overlays the skeleton into the original subimages.
- `predict_clean_smooth.m`: the post-segmentation operation, which includes binary convert, open and close morphological processing, and prune operations.
- `rescale01.m`: rescales the pixel values of an input image to the range [0, 1].
- `vscular_features_classification.ipynb`: classify the features collected from the skeleton by the methods from the repository [RCC-VascularMorphClassify](https://github.com/medxiaorudan/RCC-VascularMorphClassify).
- `Xavier_evaluation.m`: The Matlab code of our proposed evaluation method.
- `xavier_evaluation_python_code.ipynb`: The Python code of our proposed evaluation method.

## The proposed evaluation method

We proposed a new evaluation function to restrict the results in terms of vessel detection, basically considering the length but not the width of vessels. We dilated (with a disk of radius 3, the segmentation result from \( S \) to obtain \( DS \) and the ground truth \( GT \) to obtain \( DGT \). We computed the ratio of miss-detected vessels as:

$$
MV = \frac{|\{(i,j): GT(i,j) = 1, DS(i,j) = 0\}|}{|\{(i,j): GT(i,j) = 1\}|}
$$

and the ratio of falsely detected vessels as:

$$
FV = \frac{|\{(i,j): S(i,j) = 1, DGT(i,j) = 0\}|}{|\{(i,j): S(i,j) = 1\}|}
$$

Finally, we defined the following global performance index:

$$
IV = 1 - \frac{MV+VF}{2}
$$
